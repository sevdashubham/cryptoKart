{"map":"{\"version\":3,\"sources\":[\"/Users/shubhamsevda/crypt/crypto-kart-2/client/js/components/referral/Referral.js\"],\"names\":[\"_react\",\"__webpack_require__\",\"Referral\",\"state\",\"referralCode\",\"copySuccess\",\"referees\",\"commissionList\",\"copyToClipboard\",\"e\",\"_this\",\"textArea\",\"select\",\"document\",\"execCommand\",\"target\",\"blur\",\"setState\",\"console\",\"log\",\"Component\",\"this\",\"getReferral\",\"_this2\",\"axios\",\"get\",\"then\",\"res\",\"data\",\"referer\",\"getCommissionList\",\"catch\",\"error\",\"_this3\",\"_this4\",\"map\",\"item\",\"_react2\",\"default\",\"createElement\",\"className\",\"user\",\"email\",\"updatedAt\",\"commissionAmount\",\"trader\",\"ref\",\"textarea\",\"value\",\"_Button2\",\"variant\",\"color\",\"onClick\",\"length\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, {Component} from 'react';\\nimport axios from 'axios';\\nimport './Referral.scss';\\nimport Button from '@material-ui/core/Button';\\n\\nclass Referral extends Component {\\n  state = {\\n    referralCode: '',\\n    copySuccess: '',\\n    referees: [], commissionList: []\\n  };\\n  copyToClipboard = (e) => {\\n    this.textArea.select();\\n    document.execCommand('copy');\\n    // This is just personal preference.\\n    // I prefer to not show the the whole text area selected.\\n    e.target.blur();\\n    this.setState({copySuccess: 'Copied!'});\\n    console.log(this.state.copySuccess);\\n  };\\n\\n  componentDidMount() {\\n    this.getReferral();\\n  }\\n\\n  getReferral() {\\n    return axios.get('referral/')\\n      .then((res) => {\\n        this.setState({referralCode: res.data[0].referer.referralCode, referees: res.data[0].referees});\\n        console.log(res.data[0].referer.referralCode);\\n        console.log(res.data[0].referees);\\n        this.getCommissionList();\\n      })\\n      // .then(function (response) {\\n      //   console.log(response);\\n      //   this.setState({referralCode: response.data.referralCode})\\n      // })\\n      .catch(function (error) {\\n        console.log(error);\\n      })\\n      .then(function () {\\n        // always executed\\n      });\\n  }\\n\\n  getCommissionList() {\\n    return axios.get('commission/')\\n      .then((res) => {\\n        this.setState({commissionList: res.data});\\n        console.log(res.data);\\n      })\\n      .catch(function (error) {\\n        console.log(error);\\n      })\\n      .then(function () {\\n        // always executed\\n      });\\n  }\\n\\n  render() {\\n    const referralCode = this.state.referralCode;\\n    const referees = this.state.referees.map(function (item) {\\n      return (\\n        <div className=\\\"list-referees\\\">\\n          <div className=\\\"referral-list-title-email\\\">\\n            <h5>{item.user.email}</h5>\\n          </div>\\n          <div className=\\\"referral-list-title-date\\\">\\n            <h5>{item.updatedAt}</h5>\\n          </div>\\n        </div>\\n      );\\n    });\\n    const commissionList = this.state.commissionList.map(function (item) {\\n      return (\\n        <div className=\\\"list-referees\\\">\\n          <div className=\\\"referral-list-title-commission\\\">\\n            <h5>{item.commissionAmount}</h5>\\n          </div>\\n          <div className=\\\"referral-list-title-email\\\">\\n            <h5>{item.trader.email}</h5>\\n          </div>\\n          <div className=\\\"referral-list-title-date\\\">\\n            <h5>{item.updatedAt}</h5>\\n          </div>\\n        </div>\\n      );\\n    });\\n    return (\\n      <div>\\n        <div className=\\\"content-over-layout\\\">\\n          <header className=\\\"header px-3 py-2\\\"><h3>Referral</h3></header>\\n          <div className=\\\"wrapper mx-3\\\">\\n            <article className=\\\"content-container\\\">\\n              <h5>Give 20%, get 20%</h5>\\n              <h5>They: Get 20% discount on trading fees (for 4 months)</h5>\\n              <h5>You: Gets 20% of fees from all trades of your referrals</h5>\\n            </article>\\n            <article className=\\\"content-container\\\">\\n              <h5>Share you referral link</h5>\\n              <div className=\\\"input-bar\\\">\\n                <div className=\\\"input-bar-item width100\\\">\\n                  <form>\\n                    <div className=\\\"input-group\\\">\\n                       <textarea className=\\\"width100\\\"\\n                                 ref={(textarea) => this.textArea = textarea}\\n                                 value={referralCode}\\n                       />\\n                      {/*<input className=\\\"form-control width100\\\" value={referralCode}/>*/}\\n                      <span className=\\\"input-group-btn\\\">\\n                  <Button variant=\\\"contained\\\" color=\\\"primary\\\" onClick={this.copyToClipboard}>Copy</Button>\\n                </span>\\n                    </div>\\n                  </form>\\n                </div>\\n              </div>\\n              <i className=\\\"fab fa-facebook-f\\\"></i>\\n              <i className=\\\"fab fa-linkedin-in\\\"></i>\\n              <i className=\\\"fab fa-twitter\\\"></i>\\n              <i className=\\\"fab fa-whatsapp\\\"></i>\\n            </article>\\n\\n            <aside className=\\\"aside aside-1\\\">\\n              <h5>Refferal Friends</h5>\\n              <h5>{referees.length}</h5>\\n              <div className=\\\"referral-list mt-1\\\">\\n                <div className=\\\"referral-list-title-email\\\">\\n                  <h5>Email</h5>\\n                </div>\\n                <div className=\\\"referral-list-title-date\\\">\\n                  <h5>Date</h5>\\n                </div>\\n              </div>\\n              <div>\\n                {referees}\\n              </div>\\n            </aside>\\n            <aside className=\\\"aside aside-2\\\">\\n              <h5>Commission Value</h5>\\n              <h5>0 BTC</h5>\\n              <div className=\\\"referral-list mt-1\\\">\\n                <div className=\\\"referral-list-title-commission\\\">\\n                  <h5>Commission</h5>\\n                </div>\\n                <div className=\\\"referral-list-title-email\\\">\\n                  <h5>Email</h5>\\n                </div>\\n                <div className=\\\"referral-list-title-date\\\">\\n                  <h5>Date</h5>\\n                </div>\\n              </div>\\n              <div>\\n                {commissionList}\\n              </div>\\n            </aside>\\n          </div>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default Referral;\\n\"]}","code":"webpackHotUpdate(0,{151:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(1),n=s(r),c=s(a(109));a(150);var i=s(a(45));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var o=function(e){function t(){var e,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var r=arguments.length,n=Array(r),c=0;c<r;c++)n[c]=arguments[c];return a=l=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n))),l.state={referralCode:\"\",copySuccess:\"\",referees:[],commissionList:[]},l.copyToClipboard=function(e){l.textArea.select(),document.execCommand(\"copy\"),e.target.blur(),l.setState({copySuccess:\"Copied!\"}),console.log(l.state.copySuccess)},u(l,a)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:\"componentDidMount\",value:function(){this.getReferral()}},{key:\"getReferral\",value:function(){var e=this;return c.default.get(\"referral/\").then(function(t){e.setState({referralCode:t.data[0].referer.referralCode,referees:t.data[0].referees}),console.log(t.data[0].referer.referralCode),console.log(t.data[0].referees),e.getCommissionList()}).catch(function(e){console.log(e)}).then(function(){})}},{key:\"getCommissionList\",value:function(){var e=this;return c.default.get(\"commission/\").then(function(t){e.setState({commissionList:t.data}),console.log(t.data)}).catch(function(e){console.log(e)}).then(function(){})}},{key:\"render\",value:function(){var e=this,t=this.state.referralCode,a=this.state.referees.map(function(e){return n.default.createElement(\"div\",{className:\"list-referees\"},n.default.createElement(\"div\",{className:\"referral-list-title-email\"},n.default.createElement(\"h5\",null,e.user.email)),n.default.createElement(\"div\",{className:\"referral-list-title-date\"},n.default.createElement(\"h5\",null,e.updatedAt)))}),l=this.state.commissionList.map(function(e){return n.default.createElement(\"div\",{className:\"list-referees\"},n.default.createElement(\"div\",{className:\"referral-list-title-commission\"},n.default.createElement(\"h5\",null,e.commissionAmount)),n.default.createElement(\"div\",{className:\"referral-list-title-email\"},n.default.createElement(\"h5\",null,e.trader.email)),n.default.createElement(\"div\",{className:\"referral-list-title-date\"},n.default.createElement(\"h5\",null,e.updatedAt)))});return n.default.createElement(\"div\",null,n.default.createElement(\"div\",{className:\"content-over-layout\"},n.default.createElement(\"header\",{className:\"header px-3 py-2\"},n.default.createElement(\"h3\",null,\"Referral\")),n.default.createElement(\"div\",{className:\"wrapper mx-3\"},n.default.createElement(\"article\",{className:\"content-container\"},n.default.createElement(\"h5\",null,\"Give 20%, get 20%\"),n.default.createElement(\"h5\",null,\"They: Get 20% discount on trading fees (for 4 months)\"),n.default.createElement(\"h5\",null,\"You: Gets 20% of fees from all trades of your referrals\")),n.default.createElement(\"article\",{className:\"content-container\"},n.default.createElement(\"h5\",null,\"Share you referral link\"),n.default.createElement(\"div\",{className:\"input-bar\"},n.default.createElement(\"div\",{className:\"input-bar-item width100\"},n.default.createElement(\"form\",null,n.default.createElement(\"div\",{className:\"input-group\"},n.default.createElement(\"textarea\",{className:\"width100\",ref:function(t){return e.textArea=t},value:t}),n.default.createElement(\"span\",{className:\"input-group-btn\"},n.default.createElement(i.default,{variant:\"contained\",color:\"primary\",onClick:this.copyToClipboard},\"Copy\")))))),n.default.createElement(\"i\",{className:\"fab fa-facebook-f\"}),n.default.createElement(\"i\",{className:\"fab fa-linkedin-in\"}),n.default.createElement(\"i\",{className:\"fab fa-twitter\"}),n.default.createElement(\"i\",{className:\"fab fa-whatsapp\"})),n.default.createElement(\"aside\",{className:\"aside aside-1\"},n.default.createElement(\"h5\",null,\"Refferal Friends\"),n.default.createElement(\"h5\",null,a.length),n.default.createElement(\"div\",{className:\"referral-list mt-1\"},n.default.createElement(\"div\",{className:\"referral-list-title-email\"},n.default.createElement(\"h5\",null,\"Email\")),n.default.createElement(\"div\",{className:\"referral-list-title-date\"},n.default.createElement(\"h5\",null,\"Date\"))),n.default.createElement(\"div\",null,a)),n.default.createElement(\"aside\",{className:\"aside aside-2\"},n.default.createElement(\"h5\",null,\"Commission Value\"),n.default.createElement(\"h5\",null,\"0 BTC\"),n.default.createElement(\"div\",{className:\"referral-list mt-1\"},n.default.createElement(\"div\",{className:\"referral-list-title-commission\"},n.default.createElement(\"h5\",null,\"Commission\")),n.default.createElement(\"div\",{className:\"referral-list-title-email\"},n.default.createElement(\"h5\",null,\"Email\")),n.default.createElement(\"div\",{className:\"referral-list-title-date\"},n.default.createElement(\"h5\",null,\"Date\"))),n.default.createElement(\"div\",null,l)))))}}]),t}();t.default=o}});","extractedComments":[]}